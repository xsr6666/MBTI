"use strict";const e=require("../../common/vendor.js"),t={data:()=>({questions:[],answers:[],loading:!0,currentIndex:0}),onLoad(){this.fetchQuestions()},methods:{async fetchQuestions(){try{const t=await e.Ws.callFunction({name:"getQuestionsMbtiA"});t.result&&t.result.data&&(this.questions=t.result.data,this.answers=new Array(this.questions.length).fill(null))}catch(t){console.error(t)}finally{this.loading=!1}},selectAnswer(e,t){this.$set(this.answers,e,t),e===this.questions.length-1?this.submitQuiz():this.currentIndex<this.questions.length-1&&this.currentIndex++},submitQuiz(){e.index.setStorageSync("answers",this.answers),e.index.navigateTo({url:"/pages/quiz/result"})},onSwiperChange(e){this.currentIndex=e.detail.current}}};const s=e._export_sfc(t,[["render",function(t,s,n,i,r,a){return e.e({a:r.loading},r.loading?{}:{b:e.f(r.questions,((t,s,n)=>({a:e.t(t.question),b:e.t(t.choice_a.text),c:e.n({selected:r.answers[s]===t.choice_a.value}),d:e.o((e=>a.selectAnswer(s,t.choice_a.value)),s),e:e.t(t.choice_b.text),f:e.n({selected:r.answers[s]===t.choice_b.value}),g:e.o((e=>a.selectAnswer(s,t.choice_b.value)),s),h:s}))),c:r.currentIndex,d:e.o(((...e)=>a.onSwiperChange&&a.onSwiperChange(...e)))})}]]);wx.createPage(s);
