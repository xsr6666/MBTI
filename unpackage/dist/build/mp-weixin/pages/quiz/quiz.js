"use strict";const e=require("../../common/vendor.js"),s={data:()=>({questions:[],answers:[],loading:!0,currentIndex:0}),computed:{allQuestionsAnswered(){return this.answers.length===this.questions.length}},onLoad(){this.fetchQuestions()},methods:{async fetchQuestions(){try{const s=await e.Ws.callFunction({name:"getQuestionsMbtiA"});s.result&&s.result.data&&(this.questions=s.result.data)}catch(s){console.error(s)}finally{this.loading=!1}},selectAnswer(e,s){this.$set(this.answers,e,s),this.currentIndex<this.questions.length&&this.currentIndex++},submitQuiz(){e.index.setStorageSync("answers",this.answers),e.index.navigateTo({url:"/pages/quiz/result"})},onSwiperChange(e){this.currentIndex=e.detail.current}}};const t=e._export_sfc(s,[["render",function(s,t,n,i,r,a){return e.e({a:r.loading},r.loading?{}:{b:e.f(r.questions,((s,t,n)=>({a:e.t(s.question),b:e.t(s.choice_a.text),c:e.n({selected:r.answers[t]===s.choice_a.value}),d:e.o((e=>a.selectAnswer(t,s.choice_a.value)),t),e:e.t(s.choice_b.text),f:e.n({selected:r.answers[t]===s.choice_b.value}),g:e.o((e=>a.selectAnswer(t,s.choice_b.value)),t),h:t}))),c:r.currentIndex,d:e.o(((...e)=>a.onSwiperChange&&a.onSwiperChange(...e)))},{e:a.allQuestionsAnswered},a.allQuestionsAnswered?{f:e.o(((...e)=>a.submitQuiz&&a.submitQuiz(...e)))}:{})}]]);wx.createPage(t);
